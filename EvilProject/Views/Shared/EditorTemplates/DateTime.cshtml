@model Nullable<System.DateTime>

@if ( Model.HasValue ) {
   @Html.TextBox( "" , String.Format( "{0:yyyy-MM-dd HH:mm}" , Model.Value ) , new  { @class = "date" , @style = "width:150px;" } )
}
else {
   @Html.TextBox( "" , "" , new { @class = "date" , @style = "width:150px;" } )
}

@{
string name = ViewData.TemplateInfo.HtmlFieldPrefix;
string id = name.Replace( ".", "_" );
}

<script type="text/javascript">
    $(document).ready(function () {
        $(function() {
            $("#@id").datepicker({
                showButtonPanel: true,
                dateFormat: 'yy-mm-dd',
                showAnim: 'fold'
            });
          
	});
    });
</script>